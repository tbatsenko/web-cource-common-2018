<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Calendar</title>

    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
          integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>

<div id="content"></div>

<script src="node_modules/handlebars/dist/handlebars.js"></script>
<script>
  const render = async (templateSrc, dataSrc, conteiner) => {
    const templateStr = await (await fetch(templateSrc)).text()
    const data = await (await fetch(dataSrc)).json()
    const compiled = Handlebars.compile(templateStr)
    conteiner.innerHTML = compiled(data)
  }

  const renderPage = async () => {
    await render('templates/layout.hbs', 'data/calendar.json', document.getElementById('content'))
    await render('templates/sidebar.hbs', 'data/calendar.json', document.getElementById('sidebar'))
    await render('templates/main-section.hbs', 'data/calendar.json', document.getElementById('main-section'))
    await render('templates/calendar.hbs', 'data/calendar.json', document.getElementById('calendar'))
  }

  renderPage()
</script>


</body>
</html>